# Local development compose - extends docker-compose.yml
# Usage: docker compose -f docker-compose.yml -f docker-compose.local.yml up -d

services:
  frontend:
    ports:
      - "80:8080"
    environment:
      FRAPPE_SITE_NAME_HEADER: sbserp.loc
    networks:
      - default

  # Expose MariaDB for debugging
  db:
    ports:
      - "3307:3306"

  # Expose Redis for debugging
  redis-cache:
    ports:
      - "6380:6379"

  redis-queue:
    ports:
      - "6381:6379"

# Override the external network for local development
networks:
  dokploy-network:
    driver: bridge
